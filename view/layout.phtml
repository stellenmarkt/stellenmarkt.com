<?php
/**
 * Gastrojobs24
 *
 * General layout template file. Defines the general layout.
 *
 * @copyright (c) 2013 - 2016 Cross Solution (http://cross-solution.de)
 * @license   Gastrojobs
 */

/* @var $options \Core\Options\ModuleOptions */
$options = $this->services('Core/Options');
$lang = $this->params('lang');

// See: http://yawik.readthedocs.org/en/latest/modules/core/notifications.html

$notifications = $this->partial('core/notifications');

// set default page title

$this->headTitle($this->translate('Gastrojob24'))->setSeparator(' | ')->setAutoEscape(false);

// set default keywords

$this->headMeta()->setCharset("utf-8");
$this->headMeta()->appendName('viewport', 'width=device-width, initial-scale=1.0');

$this->configHeadScript()->setAllowArbitraryAttributes(true);
$this->configHeadScript()->prependFile($this->basepath('Core/js/core.init.js'));
$this->configHeadScript()->prependFile($this->basePath('/assets/pnotify/pnotify.custom.min.js'), 'text/javascript');
$this->configHeadScript()->prependFile($this->basePath('/assets/bootstrap/js/bootstrap.min.js'));
$this->configHeadScript()->prependFile($this->basePath('/assets/jquery/jquery.min.js'));
$this->configHeadScript()->appendFile($this->basePath('/assets/select2/js/select2.min.js'));

if ($lang!='en') {
    $this->configHeadScript()->appendFile($this->basePath('/assets/select2/js/i18n/' . $lang . '.js'));
}
$this->headLink()->appendStylesheet($this->basePath('/assets/select2/css/select2.css'));
$this->headLink()->appendStylesheet($this->basePath('/Gastro24/jssocials-1.4.0/dist/jssocials.css'));
$this->headLink()->appendStylesheet($this->basePath('/Gastro24/jssocials-1.4.0/dist/jssocials-theme-flat.css'));

$this->configHeadScript()->appendScript('var lang="' . $this->params('lang') . '";'
    . 'var basePath="' . $this->basePath() . '";');

$this->headLink()->prependStylesheet($this->basePath() . '/Gastro24/Gastro24.css');
$this->headLink()->prependStylesheet($this->basePath('/assets/pnotify/pnotify.custom.min.css'));

?>

<?php echo $this->doctype(); ?>
<html lang="<?php echo $this->params('lang') ?>">
<head>
    <link rel="apple-touch-icon" sizes="57x57" href="<?=$this->basepath('Gastro24/favicons/apple-icon-57x57.png')?>">
    <link rel="apple-touch-icon" sizes="60x60" href="<?=$this->basepath('Gastro24/favicons/apple-icon-60x60.png')?>">
    <link rel="apple-touch-icon" sizes="72x72" href="<?=$this->basepath('Gastro24/favicons/apple-icon-72x72.png')?>">
    <link rel="apple-touch-icon" sizes="76x76" href="<?=$this->basepath('Gastro24/favicons/apple-icon-76x76.png')?>">
    <link rel="apple-touch-icon" sizes="114x114" href="<?=$this->basepath('Gastro24/favicons/apple-icon-114x114.png')?>">
    <link rel="apple-touch-icon" sizes="120x120" href="<?=$this->basepath('Gastro24/favicons/apple-icon-120x120.png')?>">
    <link rel="apple-touch-icon" sizes="144x144" href="<?=$this->basepath('Gastro24/favicons/apple-icon-144x144.png')?>">
    <link rel="apple-touch-icon" sizes="152x152" href="<?=$this->basepath('Gastro24/favicons/apple-icon-152x152.png')?>">
    <link rel="apple-touch-icon" sizes="180x180" href="<?=$this->basepath('Gastro24/favicons/apple-icon-180x180.png')?>">
    <link rel="icon" type="image/png" sizes="192x192"  href="<?=$this->basepath('Gastro24/favicons/android-icon-192x192.png')?>">
    <link rel="icon" type="image/png" sizes="32x32" href="<?=$this->basepath('Gastro24/favicons/favicon-32x32.png')?>">
    <link rel="icon" type="image/png" sizes="96x96" href="<?=$this->basepath('Gastro24/favicons/favicon-96x96.png')?>">
    <link rel="icon" type="image/png" sizes="16x16" href="<?=$this->basepath('Gastro24/favicons/favicon-16x16.png')?>">
    <link rel="manifest" href="<?=$this->basepath('Gastro24/favicons/manifest.json')?>">
    <meta name="msapplication-TileColor" content="#2e5b93">
    <meta name="msapplication-TileImage" content="<?=$this->basepath('Gastro24/favicons/ms-icon-144x144.png')?>">
    <meta name="theme-color" content="#2e5b93">
    <?php echo $this->headTitle() ?>
    <?php echo $this->headMeta() ?>
    <?php echo $this->configHeadScript() ?>
    <?php echo $this->headLink() ?>
    <?php echo $this->headStyle() ?>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MCDJ26Q');</script>
    <!-- End Google Tag Manager -->
    
    <style>
     @media (max-width: 768px)
        .navbar-nav>li>a:hover {
            color: #fff;
           }
           
           #main-navigation a:hover {
             color: #fff!important;
        }
        
         #main-navigation ul li a.inverted:hover {
             
             color: #000!important;
         }
     
        .navbar-collapse {
  
          box-shadow: none!important;
        }
        
       
        
        }
        #yk-login .nav .active a, #wizardcontainer-jobs-form-categoriescontainer .nav .active a, #wizardcontainer-jobs-form-job .nav .active a {color: #fff;}
        #jobsbymail-subscribe-form .row {margin-bottom:10px;}
        iframe {border:0}
        #form-jobs-form-preview  .panel-body {padding: 0!important;}
        #main-navigation ul li a.inverted {background-color:#fff;color:#243b84;}
        #main-navigation ul li a.inverted:hover {color:#fff;}
            .navbar-toggle {
             border-color: #242424!important;
            background-color: #243b84!important;
            }
            
            .navbar-toggle .icon-bar {
                background-color: #ffffff;
          }
          /**
 * Less For FAQs Styles
 */
.qe-faq-content {
  padding-top: 1px;
}
.qe-faq-content i.fa {
  margin-right: 0.3em;
}
.qe-faq-content .qe-faq-top {
  display: inline-block;
  margin-bottom: 1em;
}
.qe-faq-toggle {
  margin-bottom: 2px;
  transition: all 0.5s;
}
.qe-faq-toggle .qe-toggle-title {
  background-color: #fafafa;
  border: 1px solid #ddd;
  margin: 0;
  height: auto;
  cursor: pointer;
  transition: all 0.2s;
  padding: 1em;
}
.qe-faq-toggle .qe-toggle-title i.fa {
  margin-right: 0.5em;
}
.qe-faq-toggle.active .qe-toggle-title,
.qe-faq-toggle .qe-toggle-title:hover {
  background-color: #eaeaea;
}
.qe-faq-toggle .qe-toggle-content {
  padding: 1.5em 1.5em 0.3em;
  margin: 0;
  border: 1px solid #ddd;
  display: none;
  background-color:#fff;
}
.qe-faqs-filters-container {
  list-style: none;
  padding: 0;
  margin: 0 0 1em 0;
}
.qe-faqs-filters-container li {
  display: inline;
  padding: 0;
  margin: 0;
}
.qe-faqs-filters-container li a {
  display: inline-block;
  border-bottom: 1px solid;
  padding: 5px 10px;
  margin: 0 10px 0 0;
}
.qe-faqs-filters-container li a:hover {
  border-bottom: 2px solid;
}
.qe-faqs-filters-container li.active a {
  border-bottom: 2px solid;
  font-weight: bold;
}
    </style>
    <script>
        
        
        (function( $ ) {
	'use strict';

    /**
     * FAQs Toggles
     */
    $(function() {
        $('.qe-toggle-title').click(function () {
            var parent_toggle = $(this).closest('.qe-faq-toggle');
            if ( parent_toggle.hasClass( 'active' ) ) {
                $(this).find('i.fa').removeClass( 'fa-minus-circle' ).addClass( 'fa-plus-circle' );
                parent_toggle.removeClass( 'active' ).find( '.qe-toggle-content' ).slideUp( 'fast' );
            } else {
                $(this).find('i.fa').removeClass( 'fa-plus-circle' ).addClass( 'fa-minus-circle' );
                parent_toggle.addClass( 'active' ).find( '.qe-toggle-content' ).slideDown( 'fast' );
            }
        });
    });

    /**
     * FAQs Filter
     */
    $(function() {
        $('.qe-faqs-filter').click( function ( event ) {
            event.preventDefault();
            $(this).parents('li').addClass('active').siblings().removeClass('active');
            var filterSelector = $(this).attr( 'data-filter' );
            var allFAQs = $( '.qe-faq-toggle' );
            if ( filterSelector == '*' ) {
                allFAQs.show();
            } else {
                allFAQs.not( filterSelector ).hide().end().filter( filterSelector ).show();
            }
        });
    });

})( jQuery );
    </script>
  
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MCDJ26Q"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<?php if (!$this->noHeader):?>
    <header id="header" role="banner">
          <div class="container navbar">
		     <div class="row">
               <div class="navbar-header">      
               
                 <button class="navbar-toggle collapsed" data-target="#main-navigation" data-toggle="collapse" type="button">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                    <a class="navbar-brand menu-logo" href="/de">
                        <img src="<?php echo $this->basepath('/Gastro24/gastrojob24_blue.svg') ?>" alt="Gastrojob24 Schweiz" class="menu-logo">
                    </a>
                 </div>
            <nav id="main-navigation" class="navbar-collapse collapse navbar-collapse" role="navigation">

                    
                <?= $this->loginInfo(array('lang' => $lang ));?>
                <?= $this->navigation('Core/Navigation')
                         ->setAcl($this->services('acl'))
                         ->setRole($this->auth('role'))
                         ->menu()
                         ->setMaxDepth(0) // only show the top level entries
                         ->renderPartial(null, 'main-navigation');
//                         ->setUlClass('nav navbar-nav pull-right')//renderPartial(null, 'main-navigation')
                ?>

            </nav>
            <!-- /main-navigation -->
        </div>
     </div>
        <div id="formular">
        </div>
    </header>
    <?php endif ?>
 <style>
     
     #content .navbar {
         
         position:static!important;
         
     }
     
     #jobs-list-filter-wrapper .search-form-container {
         
         position:absolute;
         left:0;
         right:0;
         margin-top:-15px;
     }
 </style>   
    
<main id="content" style="background-color:#f6f6f6;margin-bottom:0;padding-bottom:50px;min-height:65vh;padding-top:15px;position:relative;">
<div class="container">
        <?php echo $notifications?>
         <?php echo $this->content;?>
</div>
</main>

<?php if (!$this->noFooter): echo $this->partial("footer"); endif; ?>
</body>
</html>
